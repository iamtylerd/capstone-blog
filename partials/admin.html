<div ng-include="'partials/nav.html'"></div>
<!-- <div ng-show="LoggedIn"> -->

<div class="newBlogPost" >
	<div class="createNewPost">
		<h2>Make a new Post!</h2><a class="btn-floating btn-large waves-effect waves-light teal accent-4" ng-click="toggleCreateNewPost()"><i class="material-icons">add</i></a>
	</div>

	<!-- Create new post -->

	<div class="row" ng-show="CreateNewPost">
		<div class="col s10 offset-s1">
			<form class="col s12">
				<div class="input-field col s6 offset-s3">
					<input id="title" type="text" class="validate" ng-model="newBlogPost.title"/>
					<label for="title">Blog Title</label>
				</div>
			</form>
			<div class="row">
				<div class="image-holder col s1" ng-if="imageDone" ng-repeat="img in imageUrl">
					<img class="responsive-img" ng-src="{{img}}" ng-click="removeImg(imageUrl, $index)">
					Delete
				</div>
			</div>
			<div text-angular class="textAngDiv" ng-model="htmlVariable">
				<textarea placeholder="Blog Post" cols="30" rows="10" ng-model="htmlVariable"></textarea>
			</div>
			<div class="boardBtnBox">
				<button class="btn btn-normal" ng-click="openModalPhoto()">Add Photo</button>
				<button class="btn btn-normal" ng-click="AddPost()" ng-show="imageDone">Add Post</button>
			</div>
		</div>
	</div>

	<!-- Admin view of posts -->

	<div class="row cardHolder">
        <div class="col s12 m6 singleCard" ng-repeat="post in posts | filter: searchText.search">
          <div class="card">
            <div class="card-image cardImage">
              <img ng-src="{{post.image[0]}}">
              <span class="card-title">{{post.title}}</span>
            </div>
            <div class="card-content changeCursor" ta-bind ng-model="post.post" ng-click="EditPostLocation(post.id)">
            </div>
            <div class="card-action">
              <a class="changeCursor" ng-click="ViewPost(post.id)">View Post</a>
            </div>
          </div>
        </div>
      </div>
      <!-- Modal for Image Upload -->

<div style="visibility: hidden">
	<div class="md-dialog-container" id="upload-modal">
		<md-dialog>
			<form>
    			<div class="file-field input-field">
					<div class="btn" ngf-select ng-model="uploadedImg" name="file" ngf-pattern="'image/*'" ngf-accept="'image/*'">1. Select</div>
         			<div class="file-path-wrapper">
        			<input class="file-path validate" type="text" ng-model="uploadedImg.name">
      				</div>
    			</div>
				<button ng-click="uploadImg(uploadedImg)">2. Upload</button>
				<button ng-click="closeModal()">Close</button>
			</form>
		</md-dialog>
	</div>
</div>


</div>
